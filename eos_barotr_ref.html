
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Reference &#8212; RePrimAnd 0.9997 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="TOV Solver" href="tov_solver.html" />
    <link rel="prev" title="Custom EOS" href="eos_barotr_custom.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="reference">
<h1>Reference<a class="headerlink" href="#reference" title="Permalink to this heading">¶</a></h1>
<section id="loading-from-file">
<h2>Loading from File<a class="headerlink" href="#loading-from-file" title="Permalink to this heading">¶</a></h2>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N11EOS_Toolkit15load_eos_barotrENSt6stringERK5units">
<span id="_CPPv3N11EOS_Toolkit15load_eos_barotrENSt6stringERK5units"></span><span id="_CPPv2N11EOS_Toolkit15load_eos_barotrENSt6stringERK5units"></span><span id="EOS_Toolkit::load_eos_barotr__ss.unitsCR"></span><span class="target" id="eos__barotr__file_8cc_1a1fe3fda0acd4caf448b062a4826c61ec"></span><span class="n"><span class="pre">eos_barotr</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">EOS_Toolkit</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">load_eos_barotr</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fname</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">u</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5units10geom_solarEdd" title="EOS_Toolkit::units::geom_solar"><span class="n"><span class="pre">geom_solar</span></span></a><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N11EOS_Toolkit15load_eos_barotrENSt6stringERK5units" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Load barotropic EOS from hdf5 file. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> – Filename of EOS file </p></li>
<li><p><strong>Unit</strong> – system the returned EOS should use. The unit system needs to be geometric, i.e. <span class="math notranslate nohighlight">\( G=c=1 \)</span>. Default is to fix the mass unit to <span class="math notranslate nohighlight">\( 1 M_\odot \)</span>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Generic interface to the EOS </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="creating-eos-from-sampled-data">
<h2>Creating EOS from sampled data<a class="headerlink" href="#creating-eos-from-sampled-data" title="Permalink to this heading">¶</a></h2>
<p>To create a EOS based on spline interpolation from given sample points,
there are three options.
Depending on whether the pseudo-enthalpy and/or specific energy are
known accurately, one should use one of the following.</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb8intervalI6real_tE6real_t5unitsNSt6size_tE">
<span id="_CPPv3N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb8intervalI6real_tE6real_t5unitsNSt6size_tE"></span><span id="_CPPv2N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb8intervalI6real_tE6real_t5unitsNSt6size_tE"></span><span id="EOS_Toolkit::make_eos_barotr_spline__std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.b.interval:real_t:.real_t.units.std::s"></span><span class="target" id="eos__barotr__spline_8h_1aa783070f0d3cb9717535f2590f9d0e3b"></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">EOS_Toolkit</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">make_eos_barotr_spline</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">gm1</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">rho</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">eps</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">press</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">csnd</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">temp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">efrac</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">isentropic</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4I0EN11EOS_Toolkit8intervalE" title="EOS_Toolkit::interval"><span class="n"><span class="pre">interval</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rg_rho</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">n_poly</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">u</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5units10geom_solarEdd" title="EOS_Toolkit::units::geom_solar"><span class="n"><span class="pre">geom_solar</span></span></a><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pts_per_mag</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">200</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="o"><span class="pre">-&gt;</span></span><span class="w"> </span><span class="n"><span class="pre">eos_barotr</span></span><a class="headerlink" href="#_CPPv4N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb8intervalI6real_tE6real_t5unitsNSt6size_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create barotropic EOS based on splines. </p>
<p>This EOS type internally uses regularly-spaced cardinal cubic splines. The regular spacing implies that the evaluation cost is independent from the table resolution. All quantities are interpolated with respect to logarithmic pseudo-enthalpy. In addition there is an interpolation spline that computes logarithmic pseudo-enthalpy from logarithmic density, which is used when the EOS is evaluated based on density.</p>
<p>The samples used for creating the EOS need to provide both pseudo-enthalpy and density, but may be arbitrarily spaced. They are resampled to the required spacing using monotonic spline interpolation.</p>
<p>The range of the internal interpolation spline of the EOS has to be specified. It can span less than the range of the provided points. Below the interpolation range, the EOS will use a matching generalised polytropic EOS with the specified adiabatic index. The density range that needs to be covered by the interpolation range naturally depends on the application. It might therefore make sense to not use the full density range provided by the original EOS source.</p>
<p>One can specify whether the EOS is isentropic. If the temperature is zero, the EOS must be specified as isentropic or an exception is thrown. Note that physically, the pseudo-enthalpy is already determined by pressure, density, and specific energy. For isentropic EOS, energy density follows from density and pressure. The consistency of the provided samples is not checked and in the responsibility of the user. There are however similar functions which computes the pseudo-enthalpy itself using numerical integration, or both pseudo enthalpy and specific energy (only possible for isentropic case).</p>
<p>The parameters are w.r.t EOS units, which have to be provided as a parameter and will be stored with the EOS for bookkeeping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gm1</strong> – Samples for pseudo enthalpy <span class="math notranslate nohighlight">\( g-1 \)</span>. Must be strictly increasing. </p></li>
<li><p><strong>rho</strong> – Samples for mass density <span class="math notranslate nohighlight">\( \rho \)</span>. Must be strictly increasing and strictly positive. </p></li>
<li><p><strong>eps</strong> – Samples for specific energy <span class="math notranslate nohighlight">\( \epsilon \)</span>. Must be strictly increasing and obey <span class="math notranslate nohighlight">\( \epsilon &gt; -1 \)</span> </p></li>
<li><p><strong>press</strong> – Samples for pressure <span class="math notranslate nohighlight">\( P \ge 0 \)</span>. </p></li>
<li><p><strong>csnd</strong> – Samples for soundspeed. Must obey <span class="math notranslate nohighlight">\( 0 \le c_s &lt; 1 \)</span> </p></li>
<li><p><strong>temp</strong> – Samples for temperature or empty vector (equivalent to all-zero). Must obey <span class="math notranslate nohighlight">\( T\ge 0 \)</span>. </p></li>
<li><p><strong>efrac</strong> – Electron fraction or empty vector (in which case the EOS will not provide electron fraction). </p></li>
<li><p><strong>isentropic</strong> – Whether the EOS is isentropic, e.g. for degenerate matter. </p></li>
<li><p><strong>rg_rho</strong> – Range of <span class="math notranslate nohighlight">\( \rho \)</span> where EOS is computed from sample points. Below, a polytrope is used. Range must be within the provided sample points. </p></li>
<li><p><strong>n_poly</strong> – Polytropic index used to extent EOS to zero density. </p></li>
<li><p><strong>u</strong> – Unit system (w.r.t. SI) of the EOS </p></li>
<li><p><strong>pts_per_mag</strong> – Sample points per magnitude to be used internally for EOS splines</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Generic interface employing tabulated barotropic EOS </p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb8intervalI6real_tE6real_t5unitsNSt6size_tE">
<span id="_CPPv3N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb8intervalI6real_tE6real_t5unitsNSt6size_tE"></span><span id="_CPPv2N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb8intervalI6real_tE6real_t5unitsNSt6size_tE"></span><span id="EOS_Toolkit::make_eos_barotr_spline__std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.b.interval:real_t:.real_t.units.std::s"></span><span class="target" id="eos__barotr__spline_8h_1a6898a026fcc95a1bac33464b4861550e"></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">EOS_Toolkit</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">make_eos_barotr_spline</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">rho</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">eps</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">press</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">csnd</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">temp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">efrac</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">isentropic</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4I0EN11EOS_Toolkit8intervalE" title="EOS_Toolkit::interval"><span class="n"><span class="pre">interval</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rg_rho</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">n_poly</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">u</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5units10geom_solarEdd" title="EOS_Toolkit::units::geom_solar"><span class="n"><span class="pre">geom_solar</span></span></a><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pts_per_mag</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">200</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="o"><span class="pre">-&gt;</span></span><span class="w"> </span><span class="n"><span class="pre">eos_barotr</span></span><a class="headerlink" href="#_CPPv4N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb8intervalI6real_tE6real_t5unitsNSt6size_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create barotropic EOS based on splines. </p>
<p>This EOS type internally uses regularly-spaced cardinal cubic splines. The regular spacing implies that the evaluation cost is independent from the table resolution. All quantities are interpolated with respect to logarithmic pseudo-enthalpy. In addition there is an interpolation spline that computes logarithmic pseudo-enthalpy from logarithmic density, which is used when the EOS is evaluated based on density.</p>
<p>The sample points provided for creating the EOS do not have to be regularly spaced. They are resampled to the required spacing using (arbitrary spaced) monotonic spline interpolation.</p>
<p>The samples are provided with respect to density. The pseudo-enthalpy does not have to be provided, but is computed using numerical integration via the trapezoidal rule. If sample points of density are further apart than the specified minimum points per magnitude, additional sample points are inserted via cubic monotonic spline interpolation before the numerical integration. This ensures that the final EOS is a consistent representation of a cubic monotonic spline interpolation of the sample points with respect to density.</p>
<p>Note there is a similar function where the pseudo-enthalpy is provided as samples as well. This should be used if it is know accurately, e.g for EOS based on analytic expressions. Another function specially for isentropic EOS recomputes the specific energy as well as the pseudo enthalpy.</p>
<p>The range of the internal interpolation spline of the final EOS has to be specified. It can span less than the range of the provided points. Below the interpolation range, the EOS will use a matching generalised polytropic EOS with the specified adiabatic index. The density range that needs to be covered by the interpolation range naturally depends on the application. It might therefore make sense to not use the full density range provided by the original EOS source.</p>
<p>One can specify whether the EOS is isentropic. If the temperature is zero, the EOS must be specified as isentropic or an exception is thrown. Note that physically, energy density follows from density and pressure for the case of isentropic EOS. The consistency of the provided samples is not checked and in the responsibility of the user.</p>
<p>The parameters are w.r.t EOS units, which have to be provided as a parameter and will be stored with the EOS for bookkeeping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rho</strong> – Samples for mass density <span class="math notranslate nohighlight">\( \rho \)</span>. Must be strictly increasing and strictly positive. </p></li>
<li><p><strong>eps</strong> – Samples for specific energy <span class="math notranslate nohighlight">\( \epsilon \)</span>. Must be strictly increasing and obey <span class="math notranslate nohighlight">\( \epsilon &gt; -1 \)</span> </p></li>
<li><p><strong>press</strong> – Samples for pressure <span class="math notranslate nohighlight">\( P \ge 0 \)</span>. </p></li>
<li><p><strong>csnd</strong> – Samples for soundspeed. Must obey <span class="math notranslate nohighlight">\( 0 \le c_s &lt; 1 \)</span> </p></li>
<li><p><strong>temp</strong> – Samples for temperature or empty vector (equivalent to all-zero). Must obey <span class="math notranslate nohighlight">\( T\ge 0 \)</span>. </p></li>
<li><p><strong>efrac</strong> – Electron fraction or empty vector (in which case the EOS will not provide electron fraction). </p></li>
<li><p><strong>isentropic</strong> – Whether the EOS is isentropic, e.g. for degenerate matter. </p></li>
<li><p><strong>rg_rho</strong> – Range of <span class="math notranslate nohighlight">\( \rho \)</span> where EOS is computed from sample points. Below, a polytrope is used. Range must be within the provided sample points. </p></li>
<li><p><strong>n_poly</strong> – Polytropic index used to extent EOS to zero density. </p></li>
<li><p><strong>u</strong> – Unit system (w.r.t. SI) of the EOS </p></li>
<li><p><strong>pts_per_mag</strong> – Sample points per magnitude to be used internally for EOS splines</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Generic interface employing tabulated barotropic EOS </p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEE8intervalI6real_tE6real_t6real_t5unitsNSt6size_tE">
<span id="_CPPv3N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEE8intervalI6real_tE6real_t6real_t5unitsNSt6size_tE"></span><span id="_CPPv2N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEE8intervalI6real_tE6real_t6real_t5unitsNSt6size_tE"></span><span id="EOS_Toolkit::make_eos_barotr_spline__std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.interval:real_t:.real_t.real_t.units.std::s"></span><span class="target" id="eos__barotr__spline_8h_1a407c254b4916f3127700549d3fc64930"></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">EOS_Toolkit</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">make_eos_barotr_spline</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">rho</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">press</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">csnd</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">temp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">efrac</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4I0EN11EOS_Toolkit8intervalE" title="EOS_Toolkit::interval"><span class="n"><span class="pre">interval</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rg_rho</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">n_poly</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">eps0</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">u</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5units10geom_solarEdd" title="EOS_Toolkit::units::geom_solar"><span class="n"><span class="pre">geom_solar</span></span></a><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pts_per_mag</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">200</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="o"><span class="pre">-&gt;</span></span><span class="w"> </span><span class="n"><span class="pre">eos_barotr</span></span><a class="headerlink" href="#_CPPv4N11EOS_Toolkit22make_eos_barotr_splineERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEE8intervalI6real_tE6real_t6real_t5unitsNSt6size_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create barotropic EOS based on splines. </p>
<p>This EOS type internally uses regularly-spaced cardinal cubic splines. The regular spacing implies that the evaluation cost is independent from the table resolution. All quantities are interpolated with respect to logarithmic pseudo-enthalpy. In addition there is an interpolation spline that computes logarithmic pseudo-enthalpy from logarithmic density, which is used when the EOS is evaluated based on density.</p>
<p>The sample points provided for creating the EOS do not have to be regularly spaced. They are resampled to the required spacing using (arbitrary spaced) monotonic spline interpolation.</p>
<p>The samples are provided with respect to density. The pseudo-enthalpy does not have to be provided, but is computed using numerical integration via the trapezoidal rule. It is assumed that the EOS is isentropic. The specific energy is recomputed from the pressure and density samples under this assumption. If sample points of density are further apart than the specified minimum points per magnitude, additional sample points are inserted via cubic monotonic spline interpolation before the numerical integrations of pseudo-enthalpy and specific energy. This ensures that the final EOS is a consistent representation of a cubic monotonic spline interpolation of the sample points with respect to density.</p>
<p>Note there are similar functions where specific energy or specific energy and pseudo-enthalpy are provided as samples as well. This should be used if they are know accurately, e.g, for EOS based on analytic expressions.</p>
<p>The range of the internal interpolation spline of the final EOS has to be specified. It can span less than the range of the provided points. Below the interpolation range, the EOS will use a matching generalised polytropic EOS with the specified adiabatic index. The density range that needs to be covered by the interpolation range naturally depends on the application. It might therefore make sense to not use the full density range provided by the original EOS source.</p>
<p>If a temperature is given, its consistency with the assumption of isentropy cannot be checked and is in the responsability of the user.</p>
<p>The parameters are w.r.t EOS units, which have to be provided as a parameter and will be stored with the EOS for bookkeeping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rho</strong> – Samples for mass density <span class="math notranslate nohighlight">\( \rho \)</span>. Must be strictly increasing and strictly positive. </p></li>
<li><p><strong>press</strong> – Samples for pressure <span class="math notranslate nohighlight">\( P \ge 0 \)</span>. </p></li>
<li><p><strong>csnd</strong> – Samples for soundspeed. Must obey <span class="math notranslate nohighlight">\( 0 \le c_s &lt; 1 \)</span> </p></li>
<li><p><strong>temp</strong> – Samples for temperature or empty vector (equivalent to all-zero). Must obey <span class="math notranslate nohighlight">\( T\ge 0 \)</span>. </p></li>
<li><p><strong>efrac</strong> – Electron fraction or empty vector (in which case the EOS will not provide electron fraction). </p></li>
<li><p><strong>rg_rho</strong> – Range of <span class="math notranslate nohighlight">\( \rho \)</span> where EOS is computed from sample points. Below, a polytrope is used. Range must be within the provided sample points. </p></li>
<li><p><strong>n_poly</strong> – Polytropic index used to extent EOS to zero density. </p></li>
<li><p><strong>eps0</strong> – Specific energy at zero density </p></li>
<li><p><strong>u</strong> – Unit system (w.r.t. SI) of the EOS </p></li>
<li><p><strong>pts_per_mag</strong> – Sample points per magnitude to be used internally for EOS splines</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Generic interface employing tabulated barotropic EOS </p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<p>It is also possible to sample an existing EOS:</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N11EOS_Toolkit22make_eos_barotr_splineERK10eos_barotr8intervalI6real_tE6real_tNSt6size_tE">
<span id="_CPPv3N11EOS_Toolkit22make_eos_barotr_splineERK10eos_barotr8intervalI6real_tE6real_tNSt6size_tE"></span><span id="_CPPv2N11EOS_Toolkit22make_eos_barotr_splineERK10eos_barotr8intervalI6real_tE6real_tNSt6size_tE"></span><span id="EOS_Toolkit::make_eos_barotr_spline__eos_barotrCR.interval:real_t:.real_t.std::s"></span><span class="target" id="eos__barotr__spline_8h_1a16da4a7a68cf523517c91782f3076a88"></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">EOS_Toolkit</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">make_eos_barotr_spline</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">eos_barotr</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">eos</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4I0EN11EOS_Toolkit8intervalE" title="EOS_Toolkit::interval"><span class="n"><span class="pre">interval</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rg_rho</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">n_poly</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pts_per_mag</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">200</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="o"><span class="pre">-&gt;</span></span><span class="w"> </span><span class="n"><span class="pre">eos_barotr</span></span><a class="headerlink" href="#_CPPv4N11EOS_Toolkit22make_eos_barotr_splineERK10eos_barotr8intervalI6real_tE6real_tNSt6size_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create barotropic EOS based on splines. </p>
<p>This allows to represent existing EOS objects of any type as a spline EOS by sampling them it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eos</strong> – The EOS to be sampled </p></li>
<li><p><strong>rg_rho</strong> – The density range that should be represented by interpolating splines </p></li>
<li><p><strong>n_poly</strong> – Polytropic index used to extent EOS to zero density. </p></li>
<li><p><strong>pts_per_mag</strong> – Sample points per magnitude to be used internally for EOS splines</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Generic interface employing tabulated barotropic EOS </p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="creating-polytropic-eos">
<h2>Creating Polytropic EOS<a class="headerlink" href="#creating-polytropic-eos" title="Permalink to this heading">¶</a></h2>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N11EOS_Toolkit20make_eos_barotr_polyE6real_t6real_t6real_t5units">
<span id="_CPPv3N11EOS_Toolkit20make_eos_barotr_polyE6real_t6real_t6real_t5units"></span><span id="_CPPv2N11EOS_Toolkit20make_eos_barotr_polyE6real_t6real_t6real_t5units"></span><span id="EOS_Toolkit::make_eos_barotr_poly__real_t.real_t.real_t.units"></span><span class="target" id="eos__barotr__poly_8h_1a5afa568927caed03eb8b81498e679a30"></span><span class="n"><span class="pre">eos_barotr</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">EOS_Toolkit</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">make_eos_barotr_poly</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">n</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rmd_p</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rho_max</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">units_</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5units10geom_solarEdd" title="EOS_Toolkit::units::geom_solar"><span class="n"><span class="pre">geom_solar</span></span></a><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N11EOS_Toolkit20make_eos_barotr_polyE6real_t6real_t6real_t5units" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a polytropic EOS. </p>
<p>The valid range always starts at zero density up to user specified maximum. If the polytropic index is less than one, the valid range is reduced avoid superluminal soundspeed, if necessary. The parameters are w.r.t EOS units. The EOS units given in the last parameter are stored for bookkeeping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – Polytropic index <span class="math notranslate nohighlight">\( n &gt; 0 \)</span> </p></li>
<li><p><strong>rmd_p</strong> – Polytropic density scale <span class="math notranslate nohighlight">\( \rho_p &gt; 0 \)</span> </p></li>
<li><p><strong>rho_max</strong> – Maximum allowed mass density </p></li>
<li><p><strong>units</strong> – Unit system (w.r.t. SI) of the EOS </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>eos_barotr generic interface employing polytropic EOS </p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="creating-piecewise-polytropic-eos">
<h2>Creating Piecewise Polytropic EOS<a class="headerlink" href="#creating-piecewise-polytropic-eos" title="Permalink to this heading">¶</a></h2>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N11EOS_Toolkit22make_eos_barotr_pwpolyE6real_tRKNSt6vectorI6real_tEERKNSt6vectorI6real_tEE6real_t5units">
<span id="_CPPv3N11EOS_Toolkit22make_eos_barotr_pwpolyE6real_tRKNSt6vectorI6real_tEERKNSt6vectorI6real_tEE6real_t5units"></span><span id="_CPPv2N11EOS_Toolkit22make_eos_barotr_pwpolyE6real_tRKNSt6vectorI6real_tEERKNSt6vectorI6real_tEE6real_t5units"></span><span id="EOS_Toolkit::make_eos_barotr_pwpoly__real_t.std::vector:real_t:CR.std::vector:real_t:CR.real_t.units"></span><span class="target" id="eos__barotr__pwpoly_8h_1ab212daa4fe3d01a38416f8c8d04fed63"></span><span class="n"><span class="pre">eos_barotr</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">EOS_Toolkit</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">make_eos_barotr_pwpoly</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rmdp0</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">segm_bound</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">segm_gamma</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rho_max_</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">units_</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5units10geom_solarEdd" title="EOS_Toolkit::units::geom_solar"><span class="n"><span class="pre">geom_solar</span></span></a><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N11EOS_Toolkit22make_eos_barotr_pwpolyE6real_tRKNSt6vectorI6real_tEERKNSt6vectorI6real_tEE6real_t5units" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create piecewise polytropic EOS. </p>
<p>The valid range always starts at zero density up to user specified maximum. If the polytropic index of some segments is less than one, the valid range is reduced, if necessary, to avoid superluminal soundspeed. The parameters are w.r.t EOS units. The EOS units given in the last parameter are stored for bookkeeping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rmdp0</strong> – Polytropic density scale <span class="math notranslate nohighlight">\(\rho_{p,0} &gt; 0\)</span> of first segment </p></li>
<li><p><strong>segm_bound</strong> – Segment boundaries mass densities </p></li>
<li><p><strong>segm_gamma</strong> – Polytropic exponents <span class="math notranslate nohighlight">\( \Gamma_i &gt; 1 \)</span> for all segments </p></li>
<li><p><strong>rho_max_</strong> – Maximum allowed mass density </p></li>
<li><p><strong>units</strong> – Unit system (w.r.t. SI) of the EOS</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>eos_barotr generic interface employing piecewise polytropic EOS </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="generic-interface">
<h2>Generic Interface<a class="headerlink" href="#generic-interface" title="Permalink to this heading">¶</a></h2>
</section>
<section id="deprecated-eos">
<h2>Deprecated EOS<a class="headerlink" href="#deprecated-eos" title="Permalink to this heading">¶</a></h2>
<p>In older versions, there was no spline based EOS. Instead
there was eos_barotr_table based on linear interpolation. This type
can still be used for sake of reproducing old results, but for new
EOS its use is discouraged.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.5: </span>Use make_eos_barotr_spline instead make_eos_barotr_table</p>
</div>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N11EOS_Toolkit21make_eos_barotr_tableERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb6real_t5units">
<span id="_CPPv3N11EOS_Toolkit21make_eos_barotr_tableERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb6real_t5units"></span><span id="_CPPv2N11EOS_Toolkit21make_eos_barotr_tableERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb6real_t5units"></span><span id="EOS_Toolkit::make_eos_barotr_table__std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.std::vector:real_t:CR.b.real_t.units"></span><span class="target" id="eos__barotr__table_8h_1a7cf700df90a7b5706910970fa23645f0"></span><span class="n"><span class="pre">eos_barotr</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">EOS_Toolkit</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">make_eos_barotr_table</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">gm1</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">rho</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">eps</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">pbr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">cs2</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">temp</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">real_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">efrac</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">isentropic_</span></span>, <span class="n"><span class="pre">real_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">n_poly_</span></span>, <a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">units_</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><span class="n"><span class="pre">units</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5units10geom_solarEdd" title="EOS_Toolkit::units::geom_solar"><span class="n"><span class="pre">geom_solar</span></span></a><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N11EOS_Toolkit21make_eos_barotr_tableERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEERKNSt6vectorI6real_tEEb6real_t5units" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create tabulated barotropic EOS. </p>
<p>The internally used regularly log-spaced lookup tables are set up from irregularly spaced sample points provided as vectors, using cubic monotonic spline interpolation.</p>
<p>One can specify whether the EOS is isentropic. If the temperature is zero, the EOS must be specified as isentropic or an exception is thrown. Even for isentropic EOS, it is still necessary to provide specific energy and pseudo-enthalpy, even though they become redundant. Consistency is not checked and in the responsibility of the user.</p>
<p>The validity range will start at zero up to the largest provided sample point. Between zero and the lowest sample point, a polytropic EOS will be used.</p>
<p>The parameters are w.r.t EOS units. The EOS units given in the last parameter are stored for bookkeeping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gm1</strong> – Samples for pseudo enthalpy <span class="math notranslate nohighlight">\( g-1 \)</span>. Must be strictly increasing. </p></li>
<li><p><strong>rho</strong> – Samples for mass density <span class="math notranslate nohighlight">\( \rho \)</span>. Must be strictly increasing. </p></li>
<li><p><strong>eps</strong> – Samples for specific energy <span class="math notranslate nohighlight">\( \epsilon \)</span>. Must be strictly increasing and obey <span class="math notranslate nohighlight">\( \epsilon &gt; -1 \)</span> </p></li>
<li><p><strong>pbr</strong> – Samples for <span class="math notranslate nohighlight">\( P / \rho \ge 0 \)</span>. </p></li>
<li><p><strong>cs2</strong> – Samples for squared soundspeed. Must obey <span class="math notranslate nohighlight">\( 0 \le c_s^2 &lt; 1 \)</span> </p></li>
<li><p><strong>temp</strong> – Samples for temperature or empty vector (equivalent to all-zero). Must obey <span class="math notranslate nohighlight">\( T\ge 0 \)</span>. </p></li>
<li><p><strong>efrac</strong> – Electron fraction or empty vector (in which case the EOS will not provide electron fraction). </p></li>
<li><p><strong>isentropic_</strong> – Whether the EOS is isentropic, e.g. for degenerate matter. </p></li>
<li><p><strong>n_poly_</strong> – Polytropic index used to extent EOS to zero density. </p></li>
<li><p><strong>units</strong> – Unit system (w.r.t. SI) of the EOS</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Generic interface employing tabulated barotropic EOS </p>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">RePrimAnd</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="notation.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="c2p_imhd.html">Primitive Recovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="eos_thermal.html">Thermal EOS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="eos_barotr.html">Barotropic EOS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_feat.html">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_interf.html">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_available.html">Available EOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_files.html">EOS Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_custom.html">Custom EOS</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tov_solver.html">TOV Solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="ns_seqs.html">NS Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="little_helpers.html">Little Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_interf.html">Python Bindings</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="eos_barotr.html">Barotropic EOS</a><ul>
      <li>Previous: <a href="eos_barotr_custom.html" title="previous chapter">Custom EOS</a></li>
      <li>Next: <a href="tov_solver.html" title="next chapter">TOV Solver</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Wolfgang Kastaun.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/eos_barotr_ref.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>