
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>EOS Files &#8212; RePrimAnd 0.9997 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Custom EOS" href="eos_barotr_custom.html" />
    <link rel="prev" title="Available EOS" href="eos_barotr_available.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="eos-files">
<h1>EOS Files<a class="headerlink" href="#eos-files" title="Permalink to this heading">¶</a></h1>
<p>The library defines a file format for barotropic EOS, based on HDF5.
Users should not need to deal with the format directly,
the framework contains functions to load and save barotropic EOS.
The type of EOS is determined while loading transparently to the user.</p>
<p>To avoid unit confusion, the files use SI units internally. When saving an EOS,
conversion happens automatically using the unit system stored within the EOS.
When loading, one has to specify the unit system, which is assumed to be geometric.</p>
<p>Note for developers of custom EOS:
The ability to load and/or save is optional for a given EOS type. Custom EOS only
need to define those methods if needed. However, the library provides an abstracted
interface for storing data without having to deal with the hdf5 interface directly.
This makes it easy to write file methods. As an example, see
<cite>library/EOS_Barotropic/eos_barotr_spline_file.cc</cite>.</p>
<section id="loading-eos">
<h2>Loading EOS<a class="headerlink" href="#loading-eos" title="Permalink to this heading">¶</a></h2>
<p>Loading an EOS is simple, after including the header</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;eos_barotr_file.h&quot;</span>

<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">EOS_Toolkit</span><span class="p">;</span>
</pre></div>
</div>
<p>one can obtain an EOS via</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">units</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">units</span><span class="o">::</span><span class="n">geom_solar</span><span class="p">();</span>
<span class="k">auto</span><span class="w"> </span><span class="n">eos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load_eos_barotr</span><span class="p">(</span><span class="s">&quot;path/example.eos.h5&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="p">);</span>
</pre></div>
</div>
<p>One has to specify the geometric <a class="reference internal" href="little_helpers.html#_CPPv4N11EOS_Toolkit5unitsE" title="EOS_Toolkit::units"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">unit</span></code></a>
system the returned EOS object should employ. In the example above,
we use <span class="math notranslate nohighlight">\(G=c=M_\odot=1\)</span>.</p>
<p>For testing purposes, the library comes with some example EOS files:
Files named
<cite>EOS/*_Read_PP.eos.h5</cite> are some of the analytic (not tabulated)
piecewise polytropic EOS from <a class="footnote-reference brackets" href="#footcite-read-2009-124032" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.
The files <cite>EOS/*_Read_PP.spline.eos.h5</cite> are interpolation spline-based
representations of the same EOS.</p>
</section>
<section id="creating-eos-files">
<h2>Creating EOS Files<a class="headerlink" href="#creating-eos-files" title="Permalink to this heading">¶</a></h2>
<p>For saving a barotropic EOS to file, use
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">save_eos_barotr()</span></code>.
For most use cases, it is probably more convenient to use the Python bindings,
which include the C++ functions for creating and saving EOS.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Older versions of the library used a separate Python module for creating EOS files,
while the C++ interface could only load. This asymmetric design was abandoned,
but the module is still available under <cite>EOS/create/reprimand_eos_format.py</cite>.
It should only be used for reproducing old results. Normally, the regular
Python interface to the C++ library should be used for EOS file creation.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Barotropic EOS of tabulated type are deprecated and
cannot be saved. Existing EOS files for this type contained the original
irregularly spaced sample points from which such EOS had to be created by
resampling. Therefore, those EOS objects do not contain the information
to save in the original format. The old format can still be read, however.
It is recommended to use the new spline-based EOS instead.</p>
</div>
<section id="references">
<h3>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h3>
<div class="docutils container" id="id2">
<aside class="footnote brackets" id="footcite-read-2009-124032" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Jocelyn S. Read, Benjamin D. Lackey, Benjamin J. Owen, and John L. Friedman. Constraints on a phenomenologically parametrized neutron-star equation of state. <em>Phys. Rev. D</em>, 79:124032, Jun 2009. <a class="reference external" href="https://doi.org/10.1103/PhysRevD.79.124032">doi:10.1103/PhysRevD.79.124032</a>.</p>
</aside>
</aside>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">RePrimAnd</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="notation.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="c2p_imhd.html">Primitive Recovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="eos_thermal.html">Thermal EOS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="eos_barotr.html">Barotropic EOS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_feat.html">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_interf.html">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_available.html">Available EOS</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">EOS Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_custom.html">Custom EOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_barotr_ref.html">Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tov_solver.html">TOV Solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="ns_seqs.html">NS Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="little_helpers.html">Little Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_interf.html">Python Bindings</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="eos_barotr.html">Barotropic EOS</a><ul>
      <li>Previous: <a href="eos_barotr_available.html" title="previous chapter">Available EOS</a></li>
      <li>Next: <a href="eos_barotr_custom.html" title="next chapter">Custom EOS</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Wolfgang Kastaun.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/eos_barotr_files.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>