
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Interface &#8212; RePrimAnd 0.9997 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sequence Files" href="ns_seqs_files.html" />
    <link rel="prev" title="Features" href="ns_seqs_feat.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="interface">
<span id="ns-seqs-interface"></span><h1>Interface<a class="headerlink" href="#interface" title="Permalink to this heading">Â¶</a></h1>
<p>There are two classes to represent neutron star sequences.
The basic one is <a class="reference internal" href="ns_seqs_ref.html#_CPPv4N11EOS_Toolkit8star_seqE" title="EOS_Toolkit::star_seq"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">star_seq</span></code></a>,
which represents sequences with an arbitrary range of central density.
The other is <a class="reference internal" href="ns_seqs_ref.html#_CPPv4N11EOS_Toolkit11star_branchE" title="EOS_Toolkit::star_branch"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">star_branch</span></code></a>, which represents
a stable branch where properties can be obtained also as function of
gravitational mass. The class <a class="reference internal" href="ns_seqs_ref.html#_CPPv4N11EOS_Toolkit11star_branchE" title="EOS_Toolkit::star_branch"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">star_branch</span></code></a>
derives from <a class="reference internal" href="ns_seqs_ref.html#_CPPv4N11EOS_Toolkit8star_seqE" title="EOS_Toolkit::star_seq"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">star_seq</span></code></a> and can thus be
used as a sequence as well. Both classes store the units they use,
which can be freely specified during creation but are assumed to be
geometric. Each object provides a method
<a class="reference internal" href="ns_seqs_ref.html#_CPPv4NK11EOS_Toolkit8star_seq11units_to_SIEv" title="EOS_Toolkit::star_seq::units_to_SI"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">units_to_SI()</span></code></a> to query the units.</p>
<p>To compute a sequence of TOV stars, use the function
<a class="reference internal" href="ns_seqs_ref.html#_CPPv4N11EOS_Toolkit12make_tov_seqE10eos_barotr8intervalI6real_tEK18star_accuracy_specj" title="EOS_Toolkit::make_tov_seq"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_tov_seq()</span></code></a>, specifying
the EOS, the desired accuracy (see TOV solver),
the range of central pseudo-enthalpy, and the number
of sample points. The units are taken from the EOS.</p>
<p>To compute a stable branch for TOV stars, use the function
<a class="reference internal" href="ns_seqs_ref.html#_CPPv4N11EOS_Toolkit22make_tov_branch_stableE10eos_barotrK18star_accuracy_spec6real_t6real_t6real_t6real_t6real_t" title="EOS_Toolkit::make_tov_branch_stable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_tov_branch_stable()</span></code></a>.
To select the correct branch in case there are several, one can provide
one central pseudo-enthalpy within the desired branch.
The default value should work for almost any remotely realistic NS EOS.
One can also specify a minimum mass that has to be covered by
the sequence. The units for the sequence are copied from the EOS.</p>
<p>To create a star sequence directly from data points,
use <a class="reference internal" href="ns_seqs_ref.html#_CPPv4N11EOS_Toolkit13make_star_seqENSt6vectorI6real_tEENSt6vectorI6real_tEENSt6vectorI6real_tEENSt6vectorI6real_tEENSt6vectorI6real_tEEN8star_seq7range_tE5units" title="EOS_Toolkit::make_star_seq"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_star_seq()</span></code></a>, specifying
vectors for the NS properties. Currently, those need to
be equally spaced in central pseudo enthalpy. For the latter,
only the range needs to be given, not a vector. Further,
one needs to specify the unit system to which the provided
data refers, which is assumed geometric.</p>
<p>The following example demonstrates basic use of stable TOV branches.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;reprimand/unitconv.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;reprimand/eos_barotropic.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;reprimand/eos_barotr_file.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;reprimand/star_sequence.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;reprimand/star_seq_file.h&quot;</span>


<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">EOS_Toolkit</span><span class="p">;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Choose geometric units to work in</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">units</span><span class="o">::</span><span class="n">geom_solar</span><span class="p">();</span>

<span class="w">    </span><span class="c1">//Load EOS from file</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">eos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load_eos_barotr</span><span class="p">(</span><span class="s">&quot;example.eos.h5&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Specification for desired accuracy: using defaults</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">star_acc_simple</span><span class="p">();</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Create stable TOV branch</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">seq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">make_tov_branch_stable</span><span class="p">(</span><span class="n">eos</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Save branch to file </span>
<span class="w">    </span><span class="n">save_star_branch</span><span class="p">(</span><span class="s">&quot;example.tovseq.h5&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">seq</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Compute tidal deformability at 90% of maximum mass</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">mass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.9</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">seq</span><span class="p">.</span><span class="n">grav_mass_maximum</span><span class="p">();</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">lambda09</span><span class="w"> </span>
<span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">seq</span><span class="p">.</span><span class="n">lambda_tidal_from_grav_mass</span><span class="p">(</span><span class="n">mass</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>NS sequences represented by  <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">star_sequence</span></code> or
<a class="reference internal" href="ns_seqs_ref.html#_CPPv4N11EOS_Toolkit11star_branchE" title="EOS_Toolkit::star_branch"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">star_branch</span></code></a> can be copied cheaply, and one
does not need to worry about memory management.
Internally, the data points for interpolation are managed by reference counted
shared pointers. Using sequences or branches is thread-save.</p>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">RePrimAnd</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="notation.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="c2p_imhd.html">Primitive Recovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="eos_thermal.html">Thermal EOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="eos_barotr.html">Barotropic EOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="tov_solver.html">TOV Solver</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ns_seqs.html">NS Sequences</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ns_seqs_feat.html">Features</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="ns_seqs_files.html">Sequence Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="ns_seqs_ref.html">Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="little_helpers.html">Little Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_interf.html">Python Bindings</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="ns_seqs.html">NS Sequences</a><ul>
      <li>Previous: <a href="ns_seqs_feat.html" title="previous chapter">Features</a></li>
      <li>Next: <a href="ns_seqs_files.html" title="next chapter">Sequence Files</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2020, Wolfgang Kastaun.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/ns_seqs_interf.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>